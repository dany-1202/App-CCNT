<div ng-controller="demandesController" id="wrapper" class="back-app">
	
	<ng-menu></ng-menu>

	<div id="page-wrapper" class="padding-top-50">
		<div class="container-fluid">

			<!-- Page Heading -->
			<div class="row">
				<div class="col-lg-12">
					<h1 class="uk-margin-top uk-heading-line title-planning"><span>Demandes des employés</span></h1>
					<div class="uk-breadcrumb">

						<a href="#!/home" >Home</a>
						<a href="#!/demandes" class="active">Demandes des employés</a>
					</div>
				</div>
			</div>
			<br>
			<!-- début du contenu des demandes -->
			<div class="alert alert-success" role="alert">
			<h4 class="alert-heading">Consultation et gestion des demandes des employés</h4>
				<p>Consulter, gérer les demandes des employés de votre établissement</p>
			</div>
			<hr>
			<div class="row">
				<div class="col-lg-12">
					<h2 class="ui header">
						<i style="font-size: 1.8em;padding-top: 5px; padding-right: 10px" class="fa fa-calendar-check-o"> </i>
						<div class="content">
							Demandes
							<div class="sub header">Gestion des demandes</div>
						</div>
					</h2>
				</div>
			</div>
			<hr>
			<div ng-repeat="dem in demandes" class="ui middle aligned divided list">
				<div class="item">
					<div class="uk-card-badge uk-label" style="position: relative;left: 5px;margin-right: 10px;" ng-style="dem.style">{{dem.statutFR}}</div>
					<div class="right floated content" ng-if="dem.statut === 'new' || dem.statut === 'modify'">
						
						<button class="ui positive basic button" ng-click="traiterDemande(true, dem)">
							<i class="fa fa-check"></i>
							Accepter
						</button>
						<button class="ui negative basic button" ng-click="traiterDemande(false, dem)">
							<i class="fa fa-ban"></i>
							Refuser
						</button>
					</div>
					<div class="right floated content" ng-if="(dem.statut !== 'new' || dem.statut !== 'modify')">
						<div class="uk-inline" ng-hide="dem.statut === 'new' || dem.statut === 'modify'">
							<button class="ui primary basic button"><i class="fa fa-pencil"></i> Modifier</button>
							<div uk-dropdown="mode: click; position:center" style="width: 50px">
								<button class="ui positive fluid basic button" ng-click="traiterDemande(true, dem)" style="margin-bottom:3px">
									<i class="fa fa-check"></i>
									Accepter
								</button>
								<button class="ui negative fluid basic button" ng-click="traiterDemande(false,dem)">
									<i class="fa fa-ban"></i>
									Refuser
								</button>
							</div>
						</div>
					</div>
					<img class="ui avatar image" src="assets/images/avatar.png">
					<div class="content">
						<div class="header"> {{dem.nom}} {{dem.prenom}}</div>
						<div class="header"> Demande de l'employé : {{dem.nomDemande}}</div>
						<div>Motifs : {{dem.motif}}</div>
						<div class="ui massive horizontal divided list">
							<div class="item" style="font-size: 0.6em">
								<div class="content">
									<div class="header"></div>
									Date début : {{dem.dateDebut}}
								</div>
							</div>
							<div class="item" style="font-size: 0.6em">
								<div class="content">
									<div class="header"></div>
									Date fin : {{dem.dateFin}}
								</div>
							</div>
						</div>
					</div>
				</div>
				<hr>
			</div>
			<!-- fin du contenu des demandes -->
		</div>
	</div>
</div> <!-- /#page-wrapper -->
